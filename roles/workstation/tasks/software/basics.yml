- name: software | all basic workstation-packages
  tags: packages,workstation-packages
  package:
    name: 
      - chromium
      - cups
      - discord
      - feh
      - firefox
      - gawk
      - gimp
      - keychain
      - man-db
      - make
      - mpv
      - neovim
      - nodejs
      - npm
      - obs-studio
      - pcmanfm
      - pipewire
      - python
      - python-pip
      - qutebrowser
      - reflector
      - rust
      - tar
      - traceroute
      - unclutter
      - vim
      - yt-dlp
    state: latest
  when:
    - ansible_distribution == "Archlinux"

- name: software | install kewlfft.aur
  tags: packages,workstation-packages,kewlfft,aur
  shell: |
    ansible-galaxy collection build --force
    ansible-galaxy collection install --force "./kewlfft-aur-$(cat galaxy.yml | grep version: | awk '{print $2}').tar.gz"

- name: software | install paru
  kewlfft.aur.aur:
    name: paru
    use: makepkg
    state: present
